<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AlgoPilot Technologies - AI Trading Bots for MT5/MT4</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <style>
        body {
          background-color: #111827;
          color: #F9FAFB;
          font-family: 'Inter', sans-serif;
        }
        .primary-btn-ui {
            background-color: #A3E635;
            color: #111827;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .primary-btn-ui:hover {
            background-color: #84CC16;
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(163, 230, 53, 0.4);
        }
        .secondary-btn-ui {
            background-color: transparent;
            border: 1px solid #374151;
            color: #F9FAFB;
            transition: all 0.3s ease;
        }
        .secondary-btn-ui:hover {
            background-color: #1F2937;
            border-color: #4B5563;
        }
        .section-title-ui {
            border-bottom: 3px solid #A3E635;
        }
        .form-input {
          background-color: #1F2937;
          border: 1px solid #374151;
          color: #F9FAFB;
        }
        .form-input:focus {
            outline: none;
            border-color: #A3E635;
            box-shadow: 0 0 0 2px rgba(163, 230, 53, 0.3);
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }
        .fade-in-start {
            opacity: 0;
        }
        .delay-200 { animation-delay: 200ms; }
        .delay-400 { animation-delay: 400ms; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useRef } = React;

      // --- Custom Hook for Scroll Animations ---
      const useScrollFadeIn = () => {
          const ref = useRef(null);
          useEffect(() => {
              const observer = new IntersectionObserver(
                  ([entry]) => {
                      if (entry.isIntersecting) {
                          entry.target.classList.add('animate-fade-in-up');
                          observer.unobserve(entry.target);
                      }
                  },
                  { threshold: 0.1 }
              );
              const currentRef = ref.current;
              if (currentRef) {
                  observer.observe(currentRef);
              }
              return () => {
                  if (currentRef) {
                      observer.unobserve(currentRef);
                  }
              };
          }, []);
          return ref;
      };

      // --- Helper Components ---
      const NotificationToast = ({ message, isSuccess, visible }) => {
          if (!visible) return null;
          const bgColor = isSuccess ? 'bg-green-500' : 'bg-red-500';
          return (
              <div className={`fixed bottom-5 right-5 z-[110] text-white py-3 px-6 rounded-lg shadow-2xl transition-all duration-500 ${visible ? 'translate-y-0 opacity-100' : 'translate-y-full opacity-0'} ${bgColor}`}>
                  <p>{message}</p>
              </div>
          );
      };
      
      const ModalWrapper = ({ children, onClose, maxWidth = 'max-w-md' }) => (
          <div className="fixed inset-0 z-[100] overflow-y-auto bg-gray-900/60 backdrop-blur-sm flex items-center justify-center p-4">
              <div className={`bg-[#111827] border border-gray-700 rounded-lg shadow-2xl w-full ${maxWidth} p-6 sm:p-8 relative`}>
                  <button onClick={onClose} className="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl transition-colors">&times;</button>
                  {children}
              </div>
          </div>
      );

      // --- Modal Components ---
      const LoginModal = ({ onClose, onShowRegister, onLogin, showNotification }) => {
          const [isLoading, setIsLoading] = useState(false);
          const handleSubmit = async (e) => { e.preventDefault(); setIsLoading(true); const email = e.target.email.value; const password = e.target.password.value; try { const response = await fetch('http://localhost:3001/api/login', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email, password }), }); const data = await response.json(); if (!response.ok) throw new Error(data.message || 'Login failed'); onLogin(data.user); } catch (error) { showNotification(error.message, false); } finally { setIsLoading(false); } };
          return (
              <ModalWrapper onClose={onClose}>
                  <h2 className="text-2xl font-bold text-white text-center mb-6">Login</h2>
                  <form onSubmit={handleSubmit}>
                      <div className="mb-4"><label className="block text-gray-400 mb-2">Email</label><input type="email" name="email" className="w-full p-3 rounded-md form-input" required /></div>
                      <div className="mb-6"><label className="block text-gray-400 mb-2">Password</label><input type="password" name="password" className="w-full p-3 rounded-md form-input" required /></div>
                      <button type="submit" className="w-full primary-btn-ui font-bold py-3 rounded-md" disabled={isLoading}>{isLoading ? 'Logging in...' : 'Login'}</button>
                  </form>
                  <p className="text-center text-gray-400 mt-6">Don't have an account? <button onClick={onShowRegister} className="text-lime-400 font-semibold hover:underline">Register here</button></p>
              </ModalWrapper>
          );
      };

      const RegisterModal = ({ onClose, onShowLogin, showNotification }) => {
          const [isLoading, setIsLoading] = useState(false);
          const handleSubmit = async (e) => { e.preventDefault(); setIsLoading(true); const name = e.target.name.value; const email = e.target.email.value; const password = e.target.password.value; try { const response = await fetch('http://localhost:3001/api/register', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ name, email, password }), }); const data = await response.json(); if (!response.ok) throw new Error(data.message || 'Registration failed'); showNotification('Registration successful! Please log in.'); onShowLogin(); } catch (error) { showNotification(error.message, false); } finally { setIsLoading(false); } };
          return (
              <ModalWrapper onClose={onClose}>
                  <h2 className="text-2xl font-bold text-white text-center mb-6">Create an Account</h2>
                  <form onSubmit={handleSubmit}>
                      <div className="mb-4"><label className="block text-gray-400 mb-2">Full Name</label><input type="text" name="name" className="w-full p-3 rounded-md form-input" required /></div>
                      <div className="mb-4"><label className="block text-gray-400 mb-2">Email</label><input type="email" name="email" className="w-full p-3 rounded-md form-input" required /></div>
                      <div className="mb-6"><label className="block text-gray-400 mb-2">Password</label><input type="password" name="password" className="w-full p-3 rounded-md form-input" required /></div>
                      <button type="submit" className="w-full primary-btn-ui font-bold py-3 rounded-md" disabled={isLoading}>{isLoading ? 'Registering...' : 'Register'}</button>
                  </form>
                  <p className="text-center text-gray-400 mt-6">Already have an account? <button onClick={onShowLogin} className="text-lime-400 font-semibold hover:underline">Login here</button></p>
              </ModalWrapper>
          );
      };

      const CheckoutModal = ({ onClose, item, showNotification }) => {
          const [platform, setPlatform] = useState('MT5');
          const [isLoading, setIsLoading] = useState(false);
          const formRef = useRef(null);

          const handlePayment = async () => {
              setIsLoading(true);
              const form = formRef.current;
              const billingInfo = { firstName: form.firstName.value, lastName: form.lastName.value, email: form.email.value };
              const accountCredentials = { platform, mtLogin: form.mtLogin.value, mtPassword: form.mtPassword.value, brokerName: form.brokerName.value, serverName: form.serverName.value };

              try {
                  const orderResponse = await fetch('http://localhost:3001/api/create-order', {
                      method: 'POST',
                      headers: { 'Content-Type': 'application/json' },
                      body: JSON.stringify({ product: item.product, price: item.price, billingInfo, accountCredentials }),
                  });
                  const { order, key_id } = await orderResponse.json();

                  const options = {
                      key: key_id,
                      amount: order.amount,
                      currency: order.currency,
                      name: "AlgoPilot Technologies",
                      description: `Payment for ${item.product}`,
                      order_id: order.id,
                      handler: function (response) {
                          showNotification('Payment successful! Your order is confirmed.', true);
                          onClose();
                      },
                      prefill: {
                          name: `${billingInfo.firstName} ${billingInfo.lastName}`,
                          email: billingInfo.email,
                      },
                      theme: {
                          color: "#A3E635"
                      }
                  };
                  const rzp = new window.Razorpay(options);
                  rzp.open();

              } catch (error) {
                  showNotification("Could not connect to payment gateway. Please try again.", false);
              } finally {
                  setIsLoading(false);
              }
          };

          return (
              <ModalWrapper onClose={onClose} maxWidth="max-w-lg">
                  <div className="max-h-[85vh] overflow-y-auto pr-2 hide-scrollbar">
                      <h2 className="text-2xl sm:text-3xl font-bold text-white text-center mb-2">Checkout</h2>
                      <p className="text-center text-gray-400 mb-6 text-sm sm:text-base">You are purchasing the {item.product} for ₹{item.price.toLocaleString('en-IN')}.</p>
                      <form ref={formRef} onSubmit={(e) => { e.preventDefault(); handlePayment(); }}>
                          <div className="space-y-4">
                              <div>
                                  <h3 className="text-lg font-semibold text-white mb-3">1. Your Details</h3>
                                  <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3">
                                      <input type="text" name="firstName" placeholder="First Name" className="w-full p-3 rounded-md form-input text-sm" required />
                                      <input type="text" name="lastName" placeholder="Last Name" className="w-full p-3 rounded-md form-input text-sm" required />
                                  </div>
                                  <input type="email" name="email" placeholder="Email Address" className="w-full p-3 rounded-md form-input text-sm" required />
                              </div>
                              <div>
                                  <h3 className="text-lg font-semibold text-white mb-3 mt-4">2. Trading Account</h3>
                                  <div className="mb-3">
                                      <div className="flex gap-3">
                                          <button type="button" onClick={() => setPlatform('MT5')} className={`w-full p-2 rounded-md text-sm transition-colors ${platform === 'MT5' ? 'primary-btn-ui' : 'secondary-btn-ui'}`}>MT5</button>
                                          <button type="button" onClick={() => setPlatform('MT4')} className={`w-full p-2 rounded-md text-sm transition-colors ${platform === 'MT4' ? 'primary-btn-ui' : 'secondary-btn-ui'}`}>MT4</button>
                                      </div>
                                  </div>
                                  <div className="space-y-3">
                                      <input type="text" name="mtLogin" placeholder={`${platform} Login ID`} className="w-full p-3 rounded-md form-input text-sm" required />
                                      <input type="text" name="mtPassword" placeholder={`${platform} Password`} className="w-full p-3 rounded-md form-input text-sm" required />
                                      <input type="text" name="brokerName" placeholder="Broker Name" className="w-full p-3 rounded-md form-input text-sm" required />
                                      <input type="text" name="serverName" placeholder="Server Name" className="w-full p-3 rounded-md form-input text-sm" required />
                                  </div>
                              </div>
                          </div>
                          <button type="submit" className="w-full primary-btn-ui font-bold py-3 rounded-md mt-6" disabled={isLoading}>
                              {isLoading ? 'Processing...' : `Proceed to Pay ₹${item.price.toLocaleString('en-IN')}`}
                          </button>
                      </form>
                  </div>
              </ModalWrapper>
          );
      };

      // Page Section Components
      const Header = ({ user, onLoginClick, onRegisterClick, onLogoutClick, isMobileMenuOpen, setMobileMenuOpen }) => {
          const AuthLinks = ({isMobile = false}) => ( <div className={isMobile ? "mt-4 space-y-2" : "space-x-2 flex items-center"}> <button onClick={onLoginClick} className="px-4 py-2 text-gray-300 hover:text-white transition-colors">Login</button> <button onClick={onRegisterClick} className="px-5 py-2 rounded-md secondary-btn-ui font-semibold">Register</button> </div> );
          const UserInfo = ({isMobile = false}) => ( <div className={isMobile ? "mt-4 space-y-4" : "items-center space-x-4 flex"}> <span className="text-white">Welcome, {user.name}!</span> <button onClick={onLogoutClick} className="px-5 py-2 rounded-md primary-btn-ui">Logout</button> </div> );
          return ( <header className="bg-gray-900/70 backdrop-blur-sm sticky top-0 z-50 border-b border-gray-800"> <nav className="container mx-auto px-6 py-4 flex justify-between items-center"> <a href="/" className="text-2xl font-bold text-white">AlgoPilot<span className="text-[#A3E635]">Tech</span></a> <div className="hidden md:flex space-x-8 items-center"> <a href="#products" className="text-gray-400 hover:text-white transition-colors">Products</a> <a href="#features" className="text-gray-400 hover:text-white transition-colors">Features</a> <a href="#about" className="text-gray-400 hover:text-white transition-colors">About Us</a> {user ? <UserInfo /> : <AuthLinks />} </div> <button onClick={() => setMobileMenuOpen(!isMobileMenuOpen)} className="md:hidden text-white"> <i className={`fa-solid ${isMobileMenuOpen ? 'fa-times' : 'fa-bars'} text-xl`}></i> </button> </nav> {isMobileMenuOpen && ( <div className="md:hidden px-6 pb-4 bg-gray-900 border-t border-gray-800"> <a href="#products" className="block py-2 text-gray-300 hover:text-white transition-colors">Products</a> <a href="#features" className="block py-2 text-gray-300 hover:text-white transition-colors">Features</a> <a href="#about" className="block py-2 text-gray-300 hover:text-white transition-colors">About Us</a> {user ? <UserInfo isMobile /> : <AuthLinks isMobile />} </div> )} </header> );
      };

      const HeroSection = () => ( <section className="text-center pt-24 pb-32 md:pt-32 md:pb-40 overflow-hidden"> <div className="container mx-auto px-6"> <h1 className="text-4xl md:text-6xl font-extrabold leading-tight mb-4 text-white fade-in-start animate-fade-in-up">AlgoPilot Technologies</h1> <p className="text-lg md:text-xl text-gray-400 max-w-3xl mx-auto mb-8 fade-in-start animate-fade-in-up delay-200">Automate Your Trades with AI-Powered Bots for MT5/MT4</p> <div className="flex justify-center space-x-4 fade-in-start animate-fade-in-up delay-400"> <a href="#products" className="px-8 py-3 rounded-md primary-btn-ui">Explore Our Bots</a> <a href="#contact" className="px-8 py-3 rounded-md secondary-btn-ui">Request a Demo</a> </div> </div> </section> );
      const ProductCard = ({ name, description, price, imageUrl, onBuyNow }) => ( <div className="bg-[#1F2937] rounded-xl overflow-hidden shadow-lg flex flex-col border border-gray-700 hover:shadow-2xl hover:border-lime-400 hover:-translate-y-1 transition-all duration-300"> <img src={imageUrl} alt={name} className="w-full h-56 object-cover" onError={(e) => { e.target.onerror = null; e.target.src='https://placehold.co/600x400/1f2937/9ca3af?text=Image+Not+Found'; }} /> <div className="p-6 flex flex-col flex-grow"> <h3 className="text-2xl font-bold text-white mb-2">{name}</h3> <p className="text-gray-400 mb-4 flex-grow">{description}</p> <div className="flex justify-between items-center mt-auto pt-4"> <span className="text-2xl font-bold text-white">₹{price.toLocaleString('en-IN')}</span> <button onClick={() => onBuyNow(name, price)} className="primary-btn-ui px-6 py-2 rounded-md">Buy Now</button> </div> </div> </div> );
      const ProductsSection = ({ onBuyNow }) => {
          const sectionRef = useScrollFadeIn();
          const products = [
              { name: 'AlgoPilot EA - Basic', description: 'Specialized bot for Gold (XAUUSD) trading only. Single account license.', price: 10000, imageUrl: 'https://placehold.co/600x400/1f2937/a3e635?text=AlgoPilot+EA+Basic' },
              { name: 'AlgoPilot EA - Elite', description: 'Trades Gold, BTC, and ETH. Single account license.', price: 20000, imageUrl: 'https://placehold.co/600x400/1f2937/a3e635?text=AlgoPilot+EA+Elite' },
              { name: 'AlgoPilot EA - Pro', description: 'Trade any symbol you want with our most advanced bot. Single account license.', price: 30000, imageUrl: 'https://placehold.co/600x400/1f2937/a3e635?text=AlgoPilot+EA+Pro' },
          ];
          return ( <section id="products" className="py-20 bg-gray-900/50"> <div ref={sectionRef} className="container mx-auto px-6 fade-in-start"> <h2 className="text-3xl md:text-4xl font-bold text-center mb-12 section-title-ui mx-auto pb-2">Our AI Trading Bots</h2> <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"> {products.map(p => <ProductCard key={p.name} {...p} onBuyNow={onBuyNow} />)} </div> </div> </section> );
      };
      const FeaturesSection = () => {
          const sectionRef = useScrollFadeIn();
          const accentColor = "#A3E635";
          return ( <section id="features" className="py-20"> <div ref={sectionRef} className="container mx-auto px-6 fade-in-start"> <h2 className="text-3xl md:text-4xl font-bold text-center mb-12 section-title-ui mx-auto pb-2">Why Choose Our Bots?</h2> <div className="grid grid-cols-1 md:grid-cols-3 gap-10 text-center"> <div className="feature-item"><div className="flex justify-center mb-4"><i className="fa-solid fa-microchip text-4xl" style={{color: accentColor}}></i></div><h3 className="text-xl font-bold text-white mb-2">Advanced AI Algorithms</h3><p className="text-gray-400">Our bots use advanced machine learning to analyze market trends for optimal entry and exit points.</p></div> <div className="feature-item"><div className="flex justify-center mb-4"><i className="fa-solid fa-lock text-4xl" style={{color: accentColor}}></i></div><h3 className="text-xl font-bold text-white mb-2">Single Account License</h3><p className="text-gray-400">Each bot is licensed to a single trading account, ensuring maximum security and integrity.</p></div> <div className="feature-item"><div className="flex justify-center mb-4"><i className="fa-solid fa-shield-halved text-4xl" style={{color: accentColor}}></i></div><h3 className="text-xl font-bold text-white mb-2">Secure MT5/MT4 Integration</h3><p className="text-gray-400">Seamlessly and securely integrates with your MetaTrader 4 or 5 account.</p></div> </div> </div> </section> );
      };
      const AboutSection = () => {
          const sectionRef = useScrollFadeIn();
          return ( <section id="about" className="py-20 bg-gray-900/50"> <div ref={sectionRef} className="container mx-auto px-6 fade-in-start"> <div className="max-w-3xl mx-auto text-center"> <h2 className="text-3xl md:text-4xl font-bold mb-6 section-title-ui pb-2 inline-block">About AlgoPilot Technologies</h2> <div className="text-left space-y-4 text-gray-400 leading-relaxed"> <p>AlgoPilot Technologies is a FinTech company specializing in creating advanced algorithmic trading solutions for retail traders. Our mission is to make trading accessible and profitable through the power of AI and machine learning.</p> <p>Our team consists of experienced developers and financial analysts dedicated to providing you with best-in-class trading bots for the MT5/MT4 platforms.</p> </div> </div> </div> </section> );
      };
      const Footer = () => ( <footer id="contact" className="bg-gray-900 border-t border-gray-800 pt-12"> <div className="container mx-auto px-6"><div className="grid grid-cols-1 md:grid-cols-3 gap-8"><div><h3 className="text-xl font-bold text-white mb-4">AlgoPilot Technologies</h3><p className="text-gray-400">Automated AI Trading Solutions.</p></div><div><h3 className="text-xl font-bold text-white mb-4">Quick Links</h3><ul><li className="mb-2"><a href="#products" className="text-gray-400 hover:text-white transition-colors">Products</a></li><li className="mb-2"><a href="#features" className="text-gray-400 hover:text-white transition-colors">Features</a></li><li className="mb-2"><a href="#!" className="text-gray-400 hover:text-white transition-colors">Careers</a></li></ul></div><div><h3 className="text-xl font-bold text-white mb-4">Contact Us</h3><p className="text-gray-400">Email: contact@algopilot.tech</p><p className="text-gray-400">Phone: (555) 123-4567</p></div></div><div className="mt-8 border-t border-gray-800 py-6 text-center text-gray-500"><p>&copy; 2024 AlgoPilot Technologies. All Rights Reserved.</p></div></div> </footer> );

      function App() {
          const [activeModal, setActiveModal] = useState(null);
          const [user, setUser] = useState(null);
          const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
          const [checkoutItem, setCheckoutItem] = useState({ product: '', price: 0 });
          const [notification, setNotification] = useState({ message: '', isSuccess: true, visible: false });

          const showNotification = (message, isSuccess = true) => {
              setNotification({ message, isSuccess, visible: true });
              setTimeout(() => {
                  setNotification(prev => ({ ...prev, visible: false }));
              }, 3000);
          };

          const handleLogin = (userObject) => {
              setUser(userObject);
              setActiveModal(null);
              showNotification('Login successful!');
          };

          const handleLogout = () => {
              setUser(null);
              showNotification('You have been logged out.');
          };

          const openCheckoutModal = (product, price) => {
              if (!user) {
                  setActiveModal('login');
                  showNotification('Please log in to buy a bot.', false);
                  return;
              }
              setCheckoutItem({ product, price });
              setActiveModal('checkout');
          };

          return (
              <div className="bg-[#111827] text-[#F9FAFB] font-['Inter',_sans_serif]">
                  <Header
                      user={user}
                      onLoginClick={() => setActiveModal('login')}
                      onRegisterClick={() => setActiveModal('register')}
                      onLogoutClick={handleLogout}
                      isMobileMenuOpen={mobileMenuOpen}
                      setMobileMenuOpen={setMobileMenuOpen}
                  />
                  <main>
                      <HeroSection />
                      <ProductsSection onBuyNow={openCheckoutModal} />
                      <FeaturesSection />
                      <AboutSection />
                  </main>
                  <Footer />

                  {activeModal === 'login' && <LoginModal onClose={() => setActiveModal(null)} onShowRegister={() => setActiveModal('register')} onLogin={handleLogin} showNotification={showNotification} />}
                  {activeModal === 'register' && <RegisterModal onClose={() => setActiveModal(null)} onShowLogin={() => setActiveModal('login')} showNotification={showNotification} />}
                  {user && activeModal === 'checkout' && <CheckoutModal onClose={() => setActiveModal(null)} item={checkoutItem} showNotification={showNotification} />}
                  
                  <NotificationToast message={notification.message} isSuccess={notification.isSuccess} visible={notification.visible} />
              </div>
          );
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(
        <React.StrictMode>
          <App />
        </React.StrictMode>
      );
    </script>
  </body>
</html>
